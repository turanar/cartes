!function(a,b){"function"==typeof define&&define.amd?define(["angular","d3"],b):"object"==typeof exports?module.exports=b(require("angular"),require("d3")):a.d3.promise=b(a.angular,a.d3)}(this,function(a,b){a.module("d3.promise",[]).factory("d3Promise",["$q",function(a){function c(b,c){return function(){var d=Array.prototype.slice.call(arguments),e=a.defer(),f=function(a,b){return a?void e.reject(Error(a)):void e.resolve(b)};return c.apply(b,d.concat(f)),e.promise}}var d={};return["csv","tsv","json","xml","text","html"].forEach(function(a){d[a]=c(b,b[a])}),b.promise=d,d}])});